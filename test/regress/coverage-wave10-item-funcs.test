; Coverage tests for item.cc uncovered functions
; Covers: get_pathname (302-306), get_filebase (309-313),
; get_filepath (316-320), get_seq (339-340), get_addr (346-348),
; get_depth (350-351), L/X/Y (518-530)

2024/01/01 * Grocery
    Expenses:Food    $50.00
    Assets:Cash

2024/01/02 ! Pending
    Expenses:Misc    $25.00
    Assets:Cash

; Test 1: Pathname function (line 302-306)
test reg Expenses:Food --format "%(filename)\n"
$FILE
end test

; Test 2: Filebase function (line 309-313)
test reg Expenses:Food --format "%(filebase == '' ? 'empty' : 'has')\n"
has
end test

; Test 3: Seq function (line 339-340)
test reg Expenses --format "%(seq)\n"
2
5
end test

; Test 4: Addr function (line 346-348)
test reg Expenses:Food --format "%(addr > 0 ? 'valid' : 'invalid')\n"
valid
end test

; Test 5: Cleared status X on Expenses only (line 523-524)
test reg Expenses --format "%(X ? 'C' : '-') %(payee)\n"
C Grocery
- Pending
end test

; Test 6: Pending status Y on Expenses only (line 528-529)
test reg Expenses --format "%(Y ? 'P' : '-') %(payee)\n"
- Grocery
P Pending
end test

; Test 7: Actual L on Expenses only (line 518-519)
test reg Expenses --format "%(L ? 'A' : 'G') %(payee)\n"
A Grocery
A Pending
end test

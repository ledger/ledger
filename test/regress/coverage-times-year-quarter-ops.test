; Test this/next/last year and quarter period expressions
; Exercises determine_when TOK_THIS/TOK_NEXT/TOK_LAST with TOK_YEAR (lines 809-813)
; and TOK_QUARTER (lines 816-828), TOK_DAY (lines 846-850)
; Also exercises handle_relative_token year/quarter/day cases

2023/06/15 Payee A
    Expenses:Food    $50.00
    Assets:Checking

2024/01/15 Payee B
    Expenses:Rent    $1000.00
    Assets:Checking

2024/03/20 Payee C
    Expenses:Transport    $75.00
    Assets:Checking

2024/06/10 Payee D
    Expenses:Gas    $45.00
    Assets:Checking

2025/01/15 Payee E
    Expenses:Utilities    $120.00
    Assets:Checking

test reg --now 2024/06/15 --period "this year"
24-Jan-15 Payee B               Expenses:Rent              $1000.00     $1000.00
                                Assets:Checking           $-1000.00            0
24-Mar-20 Payee C               Expenses:Transport           $75.00       $75.00
                                Assets:Checking             $-75.00            0
24-Jun-10 Payee D               Expenses:Gas                 $45.00       $45.00
                                Assets:Checking             $-45.00            0
end test

test reg --now 2024/06/15 --period "last year"
23-Jun-15 Payee A               Expenses:Food                $50.00       $50.00
                                Assets:Checking             $-50.00            0
end test

test reg --now 2024/06/15 --period "next year"
25-Jan-15 Payee E               Expenses:Utilities          $120.00      $120.00
                                Assets:Checking            $-120.00            0
end test

test reg --now 2024/06/15 --period "this quarter"
24-Jun-10 Payee D               Expenses:Gas                 $45.00       $45.00
                                Assets:Checking             $-45.00            0
end test

test reg --now 2024/06/15 --period "last quarter"
24-Jan-15 Payee B               Expenses:Rent              $1000.00     $1000.00
                                Assets:Checking           $-1000.00            0
24-Mar-20 Payee C               Expenses:Transport           $75.00       $75.00
                                Assets:Checking             $-75.00            0
end test

test reg --now 2024/01/15 --period "this day"
24-Jan-15 Payee B               Expenses:Rent              $1000.00     $1000.00
                                Assets:Checking           $-1000.00            0
end test

test reg --now 2024/01/16 --period "last day"
24-Jan-15 Payee B               Expenses:Rent              $1000.00     $1000.00
                                Assets:Checking           $-1000.00            0
end test

; Coverage test for annotate.cc: strip_annotations with keep_details_t
; Exercises annotate.cc lines 237-245: keep_all and keep_any methods
; and lines 302-345: strip_annotations with selective detail keeping

2024/01/01 Buy Stock
    Assets:Brokerage    10 AAPL {$150.00} [2024/01/01] (lot1)
    Assets:Checking    $-1500.00

test bal Assets:Brokerage --lot-prices -> 0
   10 AAPL {$150.00}  Assets:Brokerage
end test

test bal Assets:Brokerage --lot-dates -> 0
10 AAPL [2024/01/01]  Assets:Brokerage
end test

test bal Assets:Brokerage --lot-tags -> 0
      10 AAPL (lot1)  Assets:Brokerage
end test

test bal Assets:Brokerage -> 0
             10 AAPL  Assets:Brokerage
end test

; Test string operations in expressions to exercise op.cc and token.cc
; (exercises regex matching, justify, payee access)

2024/01/15 * Grocery Store
    Expenses:Food:Groceries   $50.00
    Assets:Checking

2024/02/10 * Electric Company
    Expenses:Utilities:Electric  $120.00
    Assets:Checking

2024/03/20 * Restaurant
    Expenses:Food:Dining     $35.00
    Assets:Checking

2024/04/05 * Gas Station
    Expenses:Transport:Gas    $45.00
    Assets:Checking

2024/06/01 * Landlord
    Expenses:Housing:Rent    $1200.00
    Assets:Checking

test reg --limit "payee =~ /Store/"
24-Jan-15 Grocery Store         Expense:Food:Groceries       $50.00       $50.00
                                Assets:Checking             $-50.00            0
end test

test reg --format "%(justify(payee, 30))\n"
Grocery Store                 
Grocery Store                 
Electric Company              
Electric Company              
Restaurant                    
Restaurant                    
Gas Station                   
Gas Station                   
Landlord                      
Landlord                      
end test

test eval "5 > 3"
1
end test

test eval "5 >= 5"
1
end test

test eval "3 <= 5"
1
end test

test eval "'hello' == 'hello'"
1
end test

test eval "'hello' != 'world'"
1
end test

test eval "5 > 3 ? 'yes' : 'no'"
yes
end test

test eval "true or false"
1
end test

test eval "true and false"
0
end test

test eval "!false"
1
end test

test eval "'hello'"
hello
end test

test eval "0 - 5"
-5
end test

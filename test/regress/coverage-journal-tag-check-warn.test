; Coverage: journal.cc lines 308-309: tag check expression with warning
; Tests tag check (not assert) that produces warning instead of error

commodity $
    format $1,000.00

account Expenses:Food
account Assets:Checking

tag Category
    check value =~ /food/

2024/01/15 Store
    ; Category: food
    Expenses:Food       $50.00
    Assets:Checking

2024/01/20 Shop
    ; Category: auto
    Expenses:Food       $35.00
    Assets:Checking

test bal --pedantic -> 0
             $-85.00  Assets:Checking
              $85.00  Expenses:Food
--------------------
                   0
__ERROR__
Warning: "$FILE", line 21: Metadata check failed for (Category: auto): (value =~ /food/)
end test

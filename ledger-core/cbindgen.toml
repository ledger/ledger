# cbindgen configuration for Ledger Core FFI

language = "C"
header = """/* Ledger Core FFI - C API Interface */
/* Generated by cbindgen - Do not modify */

#ifndef LEDGER_CORE_FFI_H
#define LEDGER_CORE_FFI_H

#include <stdint.h>
#include <stdbool.h>

#ifdef __cplusplus
extern "C" {
#endif"""

trailer = """
#ifdef __cplusplus
}
#endif

#endif /* LEDGER_CORE_FFI_H */"""

tab_width = 4
line_length = 100
documentation = true
documentation_style = "c"
cpp_compat = true

[parse]
# Parse all items even if they're not public
parse_deps = false
include = ["ledger-core"]

[export]
# Include only FFI-related types and functions
include = [
    "LedgerResult",
    "CTransactionStatus", 
    "CJournal",
    "CTransaction",
    "CPosting", 
    "CAmount",
    "CBalance",
    "CAccount",
    "CDate",
    "ErrorCallback",
    "RcJournal",
]

# Exclude internal implementation details
exclude = [
    "ErrorInfo",
]

[fn]
# Already has ledger_ prefix, don't add more
prefix = ""
postfix = ""
args = "auto"
sort_by = "none"

[struct]
# Use opaque pointers for all structs
derive_eq = false
derive_neq = false

[enum]
# Use C-style enums with explicit values
derive_helper_methods = false
derive_const_casts = false
derive_tagged_enum_destructor = false
derive_tagged_enum_copy_constructor = false
add_sentinel = false

[macro_expansion]
bitflags = true